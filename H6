<html>
     <head>
        <meta charset="UTF-8" />
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
          
     </head>
     <body>

    <script type="text/javascript">

    function getCookie(name){
        var re=new RegExp(name+"=([^;]+)");
        var value=re.exec(document.cookie);
        return(value!=null)?unescape(value[1]):null;
    }

    var today=new Date();
    var expiry=new Date(today.getTime()+30*24*3600*1000);
    //var expired=new Date(today.getTime()-24*3600*1000);
    function setCookie(name,value){
        alert(name);
        alert(value);
        document.cookie = "nazwaCookie=wartoscCookie";
        document.cookie=name+"="+escape(value)+"; path=/; expires="+expiry.toGMTString();
    }

    function storeValues(form){
        console.log(form.name.value);
        console.log(form.surname.value);
        console.log(form.age.value);
        console.log(form.data.value);
        console.log(form.email.value);
        setCookie("name",form.name.value);
        setCookie("surname",form.surname.value);
        setCookie("age",form.age.value);
        setCookie("data",form.data.value);
        setCookie("email",form.email.value);
        alert("ok");
        return true;
    }

    </script>
     
        <form name="myForm" id="uform" onsubmit="return storeValues(this);">
            <input name="name" type="text" value="" placeholder="name" />
            <input name="surname" type="text" value=""placeholder="surname"/>
            <input name="age" type="number" step="0.5" value="" placeholder="age"/>
            <input name="data" type="text" value="" placeholder="date of birth"/>
            <input name="email" type="text" value="" placeholder="email address"/>
       
        <button id="ok">ok</button>
        <button type="submit"  id="save" >save</button>
            
       </form>
</body>

  <script>

    $("#ok").click(()=>{
        var serializedForm = $("#uform").serializeArray();
        //console.log(serializedForm);
        var jsonForm = {};
        serializedForm.forEach((el)=>{
            jsonForm[el.name] = el.value;
        });
        //console.log(jsonForm);

        $.ajax({
        type:"POST",
        url: "https://jsonplaceholder.typicode.com/users",
        data: {
           jsonForm
        }
        }).done(()=>{
            alert("USER ADDED");
        })
    });

    if(name=getCookie("name"))document.myForm.name.value=name;
    if(surname=getCookie("surname"))document.myForm.surname.value=surname;
    if(age=getCookie("age"))document.myForm.age.value=age;
    if(data=getCookie("data"))document.myForm.data.value=data;
    if(email=getCookie("email"))document.myForm.email.value=email;




    
  </script>
</html>
